<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layouts/layout">
<head>
    <title>Dashboard - SB Admin</title>
    <th:block th:replace="fragment/config :: configFragment"/>
</head>
<body>

<th:block th:replace="fragment/header :: headerFragment"/>
<div id="layoutSidenav">
    <th:block th:replace="fragment/leftMenu :: leftMenuFragment"/>
    <div id="layoutSidenav_content">
        <main style="padding: 20px;">
            <form class="container" style="padding-top: 100px;"
                  th:action="${type == 'INSERT' ? '/api/document' : '/api/document/'+ id}"
                  th:object="${dto}"
                  method="post">
                <input type="hidden" name="_method" value="PUT" th:if="${type == 'UPDATE'}">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                <div class="form-group">
                    <label for="title">제목</label>
                    <input th:field="*{title}" type="text" class="form-control" id="title" placeholder="제목을 입력해주세요">
                </div>
                <div class="form-group">
                    <label for="classification">분류</label>
                    <select class="form-control" id="classification" th:field="*{classificationId}">
                        <option th:each="item : ${classificationList}" th:text="${item.title}"
                                th:value="${item.id}"></option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="content">내용</label>
                    <textarea class="form-control" id="content" rows="3" th:field="*{content}"></textarea>
                </div>
                <div class="form-group">
                    <label for="classification">결재자</label>
                    <select class="form-control" id="userIds" th:field="*{userIds}" multiple>
                        <option th:each="item : ${userList}" th:text="${item.email}" th:value="${item.id}"></option>
                    </select>
                </div>
                <div>
                    <button type="submit" class="btn btn-primary" th:text="${type == 'INSERT' ? '저장' : '수정'}">
                        완료
                    </button>
                    <button type="button" class="btn btn-danger" th:onclick="|location.href='@{/home}'|">
                        취소
                    </button>
                </div>
            </form>
        </main>
        <th:block th:replace="fragment/footer :: footerFragment"/>
    </div>
</div>
<th:block th:replace="fragment/script :: scriptFragment"/>
</body>
</html>
